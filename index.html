<!DOCTYPE html>
<html>
<head>
  <title>Steganography Online</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="page-header">
      <h1>Steganography Online</h1>
    </div>

    <div class="switch-buttons">
      <button id="btnEncode" class="active" onclick="switchSection('encode')">Encode</button>
      <button id="btnDecode" onclick="switchSection('decode')">Decode</button>
    </div>

    <!-- Encode Section -->
    <div id="sectionEncode" class="section active">
      <h2>Encode Message</h2>
      <p class="alert alert-info">
        Choose an image, enter your message, then click <strong>Encode</strong>. The result will contain your hidden message.
      </p>
      <form class="form">
        <div class="form-group">
          <input class="form-control" type="file" name="baseFile" onchange="previewEncodeImage()">
        </div>
        <div class="form-group">
          <textarea class="form-control message" rows="3" placeholder="Enter your message here"></textarea>
        </div>
        <div class="form-group">
          <button type="button" class="encode btn btn-default pull-right" onclick="encodeMessage()">Encode</button>
        </div>
      </form>

      <div class="binary" style="display: none;">
        <h3>Binary representation</h3>
        <textarea class="form-control message" style="word-wrap: break-word;"></textarea>
      </div>
      <div class="images" style="display: none;">
        <div class="original" style="display: none;">
          <h3>Original Image</h3>
          <canvas></canvas>
        </div>
        <div class="nulled" style="display: none;">
          <h3>Normalized Image</h3>
          <canvas></canvas>
        </div>
        <div class="message" style="display: none;">
          <h3>Message Hidden</h3>
          <canvas></canvas>
        </div>
      </div>
    </div>

    <!-- Decode Section -->
    <div id="sectionDecode" class="section">
      <h2>Decode Message</h2>
      <p class="alert alert-info">
        Upload an image that contains a hidden message, then click <strong>Decode</strong> to reveal it.
      </p>
      <form class="form">
        <div class="form-group">
          <input class="form-control" type="file" name="decodeFile" onchange="previewDecodeImage()">
        </div>
        <div class="form-group">
          <button type="button" class="decode btn btn-default pull-right" onclick="decodeMessage()">Decode</button>
        </div>
      </form>

      <div class="binary-decode" style="display: none;">
        <h3>Decoded Message</h3>
        <textarea class="form-control message" style="word-wrap: break-word;"></textarea>
      </div>
      <div class="decode" style="display: none;">
        <h3>Input Image</h3>
        <canvas></canvas>
      </div>
    </div>

    <footer style="text-align: center; margin-top: 30px;">
      <p>Steganography App by miskah valen</p>
    </footer>
  </div>

  <script>
    function switchSection(mode) {
      const encodeBtn = document.getElementById("btnEncode");
      const decodeBtn = document.getElementById("btnDecode");
      const encodeSection = document.getElementById("sectionEncode");
      const decodeSection = document.getElementById("sectionDecode");

      if (mode === 'encode') {
        encodeSection.classList.add("active");
        decodeSection.classList.remove("active");
        encodeBtn.classList.add("active");
        decodeBtn.classList.remove("active");
      } else {
        decodeSection.classList.add("active");
        encodeSection.classList.remove("active");
        decodeBtn.classList.add("active");
        encodeBtn.classList.remove("active");
      }
    }
  </script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
